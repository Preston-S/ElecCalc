import{f as d,a as m,e as ta}from"../chunks/CDZZ00qL.js";import{i as sa}from"../chunks/BuwtjDum.js";import{a6 as ra,ae as va,af as ia,a8 as na,a7 as U,b as v,ab as oa,m as a,z as ca,a4 as pa,ac as t,ad as s,ag as la,a9 as r}from"../chunks/BI79krja.js";import{s as o}from"../chunks/fG78sGWb.js";import{i as ma}from"../chunks/B1b7_lMJ.js";import{e as da,i as _a}from"../chunks/CbhNiVZy.js";import{h as ua,e as fa}from"../chunks/nyx9Xw70.js";import{a as ya,s as T}from"../chunks/BkARbO7P.js";import{p as ha}from"../chunks/CPXBIbgD.js";var za=d('<div class="receipt-item svelte-1m639vz"><span> </span> <span> </span></div>'),Sa=d('<header class="no-print svelte-1m639vz"><a href="/ElecCalc/history" class="back-link svelte-1m639vz">&larr; Back to History</a> <h1 class="svelte-1m639vz"> </h1> <p class="date svelte-1m639vz"> </p></header> <div class="receipt svelte-1m639vz"><div class="receipt-body svelte-1m639vz"><h3 class="svelte-1m639vz">Itemized Breakdown</h3> <!></div> <div class="receipt-summary svelte-1m639vz"><h3 class="svelte-1m639vz">Summary</h3> <div class="receipt-item svelte-1m639vz"><span>Subtotal</span> <span> </span></div> <div class="receipt-item svelte-1m639vz"><span> </span> <span> </span></div> <div class="receipt-item svelte-1m639vz"><span>Tax</span> <span> </span></div> <hr class="svelte-1m639vz"/> <div class="receipt-item total svelte-1m639vz"><span>Total</span> <span> </span></div></div></div> <button class="print-button no-print svelte-1m639vz">Print or Save as PDF</button>',1),ga=d('<p class="error-message svelte-1m639vz">Estimate not found.</p>'),ba=d('<div class="container svelte-1m639vz"><!></div>');function Ia(F,R){ra(R,!1);const D=()=>T(ha,"$page",L),k=()=>T(fa,"$estimateHistory",L),[L,V]=ya();let e=ca(null);function j(){window.print()}va(()=>(D(),k()),()=>{const i=parseInt(D().params.id,10);pa(e,k().find(c=>c.id===i))}),ia(),sa();var _=ba();ua("1m639vz",i=>{U(()=>{oa.title=`View Estimate: ${a(e),v(()=>a(e)?a(e).name:"")??""}`},void 0,void 0,void 0,!0)});var A=t(_);{var G=i=>{var c=Sa(),u=la(c),f=r(t(u),2),K=t(f,!0);s(f);var w=r(f,2),M=t(w);s(w),s(u);var y=r(u,2),h=t(y),N=r(t(h),2);da(N,1,()=>(a(e),v(()=>a(e).items)),_a,(x,n)=>{var p=za(),l=t(p),$=t(l);s(l);var P=r(l,2),aa=t(P,!0);s(P),s(p),U(ea=>{o($,`${a(n),v(()=>a(n).name)??""} (x${a(n),v(()=>a(n).quantity)??""})`),o(aa,ea)},[()=>(a(n),v(()=>(a(n).price*a(n).quantity).toLocaleString("en-US",{style:"currency",currency:"USD"})))]),m(x,p)}),s(h);var H=r(h,2),z=r(t(H),2),E=r(t(z),2),O=t(E,!0);s(E),s(z);var S=r(z,2),g=t(S),Q=t(g);s(g);var I=r(g,2),W=t(I,!0);s(I),s(S);var b=r(S,2),q=r(t(b),2),X=t(q,!0);s(q),s(b);var B=r(b,4),C=r(t(B),2),Y=t(C,!0);s(C),s(B),s(H),s(y);var Z=r(y,2);U((x,n,p,l,$)=>{o(K,(a(e),v(()=>a(e).name))),o(M,`Saved on ${x??""}`),o(O,n),o(Q,`Labor (${a(e),v(()=>a(e).hours)??""} hrs)`),o(W,p),o(X,l),o(Y,$)},[()=>(a(e),v(()=>new Date(a(e).date).toLocaleDateString())),()=>(a(e),v(()=>a(e).subtotal.toLocaleString("en-US",{style:"currency",currency:"USD"}))),()=>(a(e),v(()=>a(e).laborCost.toLocaleString("en-US",{style:"currency",currency:"USD"}))),()=>(a(e),v(()=>a(e).tax.toLocaleString("en-US",{style:"currency",currency:"USD"}))),()=>(a(e),v(()=>a(e).total.toLocaleString("en-US",{style:"currency",currency:"USD"})))]),ta("click",Z,j),m(i,c)},J=i=>{var c=ga();m(i,c)};ma(A,i=>{a(e)?i(G):i(J,!1)})}s(_),m(F,_),na(),V()}export{Ia as component};
