import{S as B,E as $,ae as L,af as M,a2 as U,b as j,ag as q,ah as z,ai as P,aj as I,ak as G,M as K,U as k}from"./DabYpkku.js";import{a as W}from"./DuV4064y.js";import{c as D}from"./IXDt0NTB.js";const H=()=>performance.now(),_={tick:r=>requestAnimationFrame(r),now:()=>H(),tasks:new Set};function O(){const r=_.now();_.tasks.forEach(t=>{t.c(r)||(_.tasks.delete(t),t.f())}),_.tasks.size!==0&&_.tick(O)}function J(r){let t;return _.tasks.size===0&&_.tick(O),{promise:new Promise(o=>{_.tasks.add(t={c:r,f:o})}),abort(){_.tasks.delete(t)}}}function E(r,t){I(()=>{r.dispatchEvent(new CustomEvent(t))})}function Q(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function x(r){const t={},o=r.split(";");for(const a of o){const[i,n]=a.split(":");if(!i||n===void 0)break;const s=Q(i.trim());t[s]=n.trim()}return t}const V=r=>r;function y(r,t,o){var a=D,i,n,s,v=null;a.a??={element:r,measure(){i=this.element.getBoundingClientRect()},apply(){if(s?.abort(),n=this.element.getBoundingClientRect(),i.left!==n.left||i.right!==n.right||i.top!==n.top||i.bottom!==n.bottom){const u=t()(this.element,{from:i,to:n},o?.());s=C(this.element,u,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!r.getAnimations().length){var{position:u,width:p,height:m}=getComputedStyle(r);if(u!=="absolute"&&u!=="fixed"){var e=r.style;v={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=p,e.height=m;var f=r.getBoundingClientRect();if(i.left!==f.left||i.top!==f.top){var h=`translate(${i.left-f.left}px, ${i.top-f.top}px)`;e.transform=e.transform?`${e.transform} ${h}`:h}}}},unfix(){if(v){var u=r.style;u.position=v.position,u.width=v.width,u.height=v.height,u.transform=v.transform}}},a.a.element=r}function tt(r,t,o,a){var i=(r&z)!==0,n=(r&P)!==0,s=i&&n,v=(r&q)!==0,u=s?"both":i?"in":"out",p,m=t.inert,e=t.style.overflow,f,h;function l(){return I(()=>p??=o()(t,a?.()??{},{direction:u}))}var c={is_global:v,in(){if(t.inert=m,!i){h?.abort(),h?.reset?.();return}n||f?.abort(),E(t,"introstart"),f=C(t,l(),h,1,()=>{E(t,"introend"),f?.abort(),f=p=void 0,t.style.overflow=e})},out(b){if(!n){b?.(),p=void 0;return}t.inert=!0,E(t,"outrostart"),h=C(t,l(),f,0,()=>{E(t,"outroend"),b?.()})},stop:()=>{f?.abort(),h?.abort()}},g=B;if((g.transitions??=[]).push(c),i&&W){var w=v;if(!w){for(var d=g.parent;d&&(d.f&$)!==0;)for(;(d=d.parent)&&(d.f&L)===0;);w=!d||(d.f&M)!==0}w&&U(()=>{j(()=>c.in())})}}function C(r,t,o,a,i){var n=a===1;if(G(t)){var s,v=!1;return K(()=>{if(!v){var g=t({direction:n?"in":"out"});s=C(r,g,o,a,i)}}),{abort:()=>{v=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!t?.duration)return i(),{abort:k,deactivate:k,reset:k,t:()=>a};const{delay:u=0,css:p,tick:m,easing:e=V}=t;var f=[];if(n&&o===void 0&&(m&&m(0,1),p)){var h=x(p(0,1));f.push(h,h)}var l=()=>1-a,c=r.animate(f,{duration:u,fill:"forwards"});return c.onfinish=()=>{c.cancel();var g=o?.t()??1-a;o?.abort();var w=a-g,d=t.duration*Math.abs(w),b=[];if(d>0){var A=!1;if(p)for(var R=Math.ceil(d/16.666666666666668),N=0;N<=R;N+=1){var F=g+w*e(N/R),S=x(p(F,1-F));b.push(S),A||=S.overflow==="hidden"}A&&(r.style.overflow="hidden"),l=()=>{var T=c.currentTime;return g+w*e(T/d)},m&&J(()=>{if(c.playState!=="running")return!1;var T=l();return m(T,1-T),!0})}c=r.animate(b,{duration:d,fill:"forwards"}),c.onfinish=()=>{l=()=>a,m?.(a,1-a),i()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=k)},deactivate:()=>{i=k},reset:()=>{a===0&&m?.(1,0)},t:()=>l()}}export{y as a,tt as t};
